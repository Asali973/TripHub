<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">


<h:outputStylesheet library="css" name="listUser.css" />
<link
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	rel="stylesheet" />


<h:body>
	<ui:composition template="/WEB-INF/templates/navTemplate.xhtml">
		<ui:define name="additionalHeadContent">
			<h:outputStylesheet library="css" name="listUser.css" />
			<link
				href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
				rel="stylesheet" />
		</ui:define>


		<ui:define name="content">

			<div class="container">
				<div class="card">
					<div class="card-body">
						<h2 class="card-title text-center mb-5">List of Triphub Providers</h2>

						<h:form id="providerForm">
							<div id="providerTab">
								<div class="table-responsive">
									<h:dataTable value="#{providerBean.allProviders}"
										var="provider" styleClass="table table-hover table-striped">
										<h:column>
											<f:facet name="header">First Name</f:facet>
                        						#{provider.user.firstName}
                   						</h:column>
                   						<h:column>
											<f:facet name="header">Last Name</f:facet>
                        						#{provider.user.lastName}
                    					</h:column>
										<h:column>
											<f:facet name="header">Email</f:facet>
                        						#{provider.user.email}
                    					</h:column>
										<h:column>
											<f:facet name="header">Phone</f:facet>
                        						#{provider.user.phoneNum}               
                    					</h:column>
										<h:column>
											<f:facet name="header">Email</f:facet>
                        						#{provider.user.email}
	                    				</h:column>
										<h:column>
											<f:facet name="header">Address</f:facet>
												#{provider.user.address.num}
												#{provider.user.address.street}
												#{provider.user.address.city}
												#{provider.user.address.zipCode}
												#{provider.user.address.state}
												#{provider.user.address.country}
                    					</h:column>
                    
                    					<h:column>
											<f:facet name="header">Company name</f:facet>
                        						#{provider.companyInfo.name}
	                					</h:column>
	                                    <h:column>
	                						<f:facet name="header">SIRET</f:facet>
                        						#{provider.administration.siret}
	                					</h:column>

										<h:column>
<!-- 											<f:facet name="header">Details</f:facet> -->
											<h:commandButton value="Modify"
												action="#{loginBean.loadUserData}"
												class="btn btn-customUpdate btn-custom-signup mr-2">
												<f:param name="selectedUserId" value="#{provider.user.id}" />
											</h:commandButton>
										</h:column>
										
										<h:column>
<!-- 											<f:facet name="header">Delete</f:facet> -->
											<h:commandButton value="Delete"
												action="#{providerBean.deleteProvider}"
												class="btn btn-customDelete btn-custom-signup"
												onclick="return confirm('Are you sure you want to delete?');" />
										</h:column>

									</h:dataTable>
								</div>
							</div>
						</h:form>
					</div>
				</div>



				<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
				<script
					src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
				<!-- 	<h:outputScript library="javascript" name="effectListUser.js" /> -->
				<script>
$(document).ready(function() {
    $('.collapse').on('show.bs.collapse', function () {
        $(this).prev().find('.btn').removeClass('btn-outline-dark').addClass('btn-dark');
    });

    $('.collapse').on('hide.bs.collapse', function () {
        $(this).prev().find('.btn').removeClass('btn-dark').addClass('btn-outline-dark');
    });
});
</script>
			</div>
		</ui:define>
	</ui:composition>
</h:body>

</html>
